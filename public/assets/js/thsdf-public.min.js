var thsdf_public_base=function($,window,document){"use strict";function remove_duplicates(arr){return arr.filter(function(elem,index,self){return index==self.indexOf(elem)})}function isInt(value){return!isNaN(value)&&parseInt(Number(value))==value&&!isNaN(parseInt(value,10))}function isEmpty(val){return void 0===val||null==val||val.length<=0}function may_parse_date(dateStr){if(DATE_FORMAT_1.test(dateStr)){var date=new Date(dateStr);if(date)return date}return dateStr}function prepare_date(dateStr,format,strict){var date=null;if(!isEmpty(dateStr))try{date=$.datepicker.parseDate(format,dateStr),date.setHours(0,0,0,0)}catch(err){if(!strict){var pattern=dateStr.split(" "),years=null,months=null,days=null;if(pattern.length>0)for(var i=0;i<pattern.length;i++){var x=pattern[i];x=x.toLowerCase(),-1!=x.indexOf("y")?(x=x.replace(/y/gi,""),years=parseInt(x)):-1!=x.indexOf("m")?(x=x.replace(/m/gi,""),months=parseInt(x)):-1!=x.indexOf("d")&&(x=x.replace(/d/gi,""),days=parseInt(x))}isEmpty(years)&&isEmpty(months)&&isEmpty(days)||(date=new Date,date.setHours(0,0,0,0),years&&0!=years&&date.setFullYear(date.getYear()+years),months&&0!=months&&date.setMonth(date.getMonth()+months),days&&0!=days&&date.setDate(date.getDate()+days))}}return date}function compare_dates(field,cvalue){var result=null,value=field.val(),format=field.data("date-format");if(isEmpty(value)||isEmpty(cvalue))return null;var d1=prepare_date(value,format,!0),d2=prepare_date(cvalue,format,!1);if(d1&&d2)try{d1>d2?result=1:d1<d2?result=-1:d1.getTime()===d2.getTime()&&(result=0)}catch(err){result=null}return result}function is_date_eq(field,cvalue){var result=compare_dates(field,cvalue);return null!=result&&0===result}function is_date_gt(field,cvalue){var result=compare_dates(field,cvalue);return null!=result&&1===result}function is_date_lt(field,cvalue){var result=compare_dates(field,cvalue);return null!=result&&-1===result}function is_day_eq(field,cvalue){var result=!1;if(!isEmpty(cvalue)){var value=field.val(),format=field.data("date-format"),date=prepare_date(value,format,!0);if(date){var day=date.getDay();if(isInt(cvalue))cvalue=parseInt(cvalue),result=null!=day&&day===cvalue;else if(cvalue=cvalue.toLowerCase(),$.inArray(cvalue,weekDays)>=0){var daystring=weekDays[day];result=null!=daystring&&daystring===cvalue}}}return result}function setup_enhanced_select(form,class_selector){form.find("select."+class_selector).select2({minimumResultsForSearch:10,allowClear:!0,placeholder:$(this).data("placeholder")}).addClass("enhanced")}function no_specific_days(date,disableDays){var day=date.getDay(),daystring=weekDays[day];return[-1==disableDays.indexOf(daystring),""]}function no_specific_dates(date,datestring){var day=date.getDate(),month=date.getMonth()+1,year=date.getFullYear(),dateArr=datestring.split("-");if(3==dateArr.length){var matchYear=!isInt(dateArr[0])||dateArr[0]==year,matchMonth=!isInt(dateArr[1])||dateArr[1]==month,matchDay=!isInt(dateArr[2])||dateArr[2]==day;return isInt(dateArr[0])||isInt(dateArr[1])||isInt(dateArr[2])?[!(matchYear&&matchMonth&&matchDay),""]:[!0,""]}new Date;return[!0,""]}function disable_dates(date){var disabledDays=$(this).data("disabled-days");if(disabledDays&&disabledDays.length>0){var daysArr=disabledDays.split(","),disabledDay=no_specific_days(date,daysArr);if(!disabledDay[0])return disabledDay}var disabledDates=$(this).data("disabled-dates");if(disabledDates&&disabledDates.length>0){var datesArr=disabledDates.split(",");if(datesArr.length>0)for(var i=0;i<datesArr.length;i++){var disabledDate=no_specific_dates(date,datesArr[i].trim());if(!disabledDate[0])return disabledDate}}return[!0,""]}function setup_date_picker(form,class_selector,data){form.find("."+class_selector).each(function(){var dateFormat=$(this).data("date-format"),defaultDate=$(this).data("default-date"),maxDate=$(this).data("max-date"),minDate=$(this).data("min-date"),yearRange=$(this).data("year-range"),numberOfMonths=$(this).data("number-months");maxDate=may_parse_date(maxDate),minDate=may_parse_date(minDate),dateFormat=""==dateFormat?"dd/mm/yy":dateFormat,defaultDate=""==defaultDate?null:defaultDate,maxDate=""==maxDate?null:maxDate,minDate=""==minDate?null:minDate,yearRange=""==yearRange?"-100:+1":yearRange,numberOfMonths=numberOfMonths>0?numberOfMonths:1;var value=$(this).val();value.trim()&&(defaultDate=value),$(this).datepicker({defaultDate:defaultDate,maxDate:maxDate,minDate:minDate,yearRange:yearRange,numberOfMonths:numberOfMonths,showButtonPanel:!0,changeMonth:!0,changeYear:!0}),$(this).datepicker("option",$.datepicker.regional[data.language]),$(this).datepicker("option","dateFormat",dateFormat),$(this).datepicker("option","beforeShowDay",disable_dates),$(this).datepicker("setDate",defaultDate),data.readonly_date_field&&$(this).prop("readonly",!0)})}function display_char_count(elm,isCount){var fid=elm.prop("id"),len=elm.val().length,displayElm=$("#"+fid+"-char-count");if(isCount)displayElm.text("("+len+" characters)");else{var maxLen=elm.prop("maxlength"),left=maxLen-len;displayElm.text("("+left+" characters left)"),rem<0&&displayElm.css("color","red")}}function set_field_value_by_elm(elm,type,value){switch(type){case"radio":elm.val([value]);break;case"checkbox":1==elm.data("multiple")?(value=value||[],elm.val(value)):elm.val([value]);break;case"select":elm.prop("multiple")?elm.val(value):elm.val([value]);break;default:elm.val(value)}}function get_field_value(type,elm,name){var value="";switch(type){case"radio":value=$("input[type=radio][name="+name+"]:checked").val();break;case"checkbox":if(1==elm.data("multiple")){var valueArr=[];$("input[type=checkbox][name='"+name+"[]']:checked").each(function(){valueArr.push($(this).val())}),value=valueArr}else value=$("input[type=checkbox][name="+name+"]:checked").val();break;case"select":case"multiselect":default:value=elm.val()}return value}var DATE_FORMAT_1=/^(19|20)\d{2}-(0?[1-9]|1[0-2])-(0?[1-9]|1\d|2\d|3[01])$/,weekDays=["sun","mon","tue","wed","thu","fri","sat"];return $.fn.getType=function(){try{return"INPUT"==this[0].tagName?this[0].type.toLowerCase():this[0].tagName.toLowerCase()}catch(err){return"E001"}},{setup_enhanced_select:setup_enhanced_select,setup_date_picker:setup_date_picker,display_char_count:display_char_count,remove_duplicates:remove_duplicates,set_field_value_by_elm:set_field_value_by_elm,get_field_value:get_field_value,is_date_eq:is_date_eq,is_date_gt:is_date_gt,is_date_lt:is_date_lt,is_day_eq:is_day_eq}}(window.jQuery,window,document);!function($){"use strict";function thsdf_functions(){create_calendar(),ptdt_calendar_tooltips(),display_setting(),calculate_quantity(),$(document).on("click","#thsdf_prev",function(){thsdf_prev()}),$(document).on("click","#thsdf_next",function(){thsdf_next()})}function thsdf_prev(){deferentMonth--,create_calendar(),display_setting(),ptdt_calendar_tooltips()}function thsdf_next(){deferentMonth++,create_calendar(),display_setting(),ptdt_calendar_tooltips()}function create_calendar(){var calendar_next=$(".ptdelivery-next"),calendar_prev=$(".ptdelivery-prev"),date=new Date,d=new Date(date.getFullYear(),date.getMonth(),1);d.getDate();d.setMonth(d.getMonth()+deferentMonth);var year=d.getFullYear(),month=d.getMonth(),dayCount=new Date(year,month+1,0).getDate(),dayStart=new Date(year,month,1).getDay();0===dayStart&&(dayStart=7);var today=null;0===deferentMonth&&(today=d.getDate());var start_date=jQuery("#ptdt_start_date").val(),schedule_start_date=jQuery("#ptdt_schedule_start_date").val(),s_date=new Date(schedule_start_date),s_year=s_date.getFullYear(),s_month_1=s_date.getMonth()+1,st_month=s_date.getMonth(),s_month=(s_date.getDate(),s_date.getDay(),("0"+s_month_1).slice(-2)),new_startDate=s_year+"-"+s_month,s_dayCount=new Date(s_year,s_month,0).getDate(),s_dayStart=new Date(s_year,s_month-1,1).getDay(),end_date=jQuery("#ptdt_end_date").val(),date=new Date(end_date),e_year=date.getFullYear(),e_month_1=date.getMonth()+1,e_month=(date.getDate(),date.getDay(),("0"+e_month_1).slice(-2)),new_endDate=e_year+"-"+e_month,cur_month=month,month=("0"+(month+1)).slice(-2),current_date=year+"-"+month;""!=start_date&&""!=end_date&&(new_startDate<=current_date&&current_date<=new_endDate?(printDate(d),generate_calendar(dayCount,today,dayStart,year,cur_month,start_date,end_date)):new_startDate>current_date&&(printDate(s_date),generate_calendar(s_dayCount,today,s_dayStart,s_year,st_month,start_date,end_date)),current_date==new_endDate?calendar_next.css("display","none"):current_date>new_endDate?calendar_next.css("display","none"):new_startDate==new_endDate?calendar_next.css("display","none"):calendar_next.css("display","block"),current_date==new_startDate?calendar_prev.css("display","none"):new_startDate>current_date?calendar_prev.css("display","none"):calendar_prev.css("display","block"))}function generate_calendar(count,today,start,year,month,start_date,end_date){var input_text=$(".quantity .input-text.qty.text");$("#ptdelivery-calendar").length>0&&(input_text.attr("readonly",!0),input_text.addClass("ptdt-disabled-no-inc")),$(".thsdf-flatsome-calendar-wrapper-public #ptdelivery-calendar").length>0&&($(".quantity.buttons_added input.plus.button.is-form").css("display","none"),$(".quantity.buttons_added input.minus.button.is-form").css("display","none"));var delivery_date_info=calendar_submited_data(),form=$("form.cart"),variable_product=is_variable_product(form);$("#ptdelivery-calendar").length>0&&(void 0===delivery_date_info||""==delivery_date_info||null==delivery_date_info?(jQuery(".cart button.single_add_to_cart_button.button").addClass("disabled"),1==variable_product&&jQuery("button.single_add_to_cart_button").addClass("variable-pdt-disabled")):(jQuery(".cart button.single_add_to_cart_button.button").removeClass("disabled"),1==variable_product&&jQuery("button.single_add_to_cart_button").removeClass("variable-pdt-disabled")));var ptdt_current_date=jQuery("#ptdt_current_date").val();ptdt_current_date>start_date&&(start_date=ptdt_current_date);var calendar_input_field_data=calendar_submited_data(),week_start=jQuery("#ptdt_week_start_days").val(),day_num=jQuery("#ptdt_week_start_days").data("daynum"),obj_daysOfWeek=[],disable_days=[],disable_holidays=[];if(void 0!=week_start)var obj_daysOfWeek=jQuery.parseJSON(week_start);var $count_days=obj_daysOfWeek?obj_daysOfWeek.length:"",disable_days=jQuery("#ptdt_week_disable_days").val(),obj_disable_days="";if(void 0!=disable_days)var obj_disable_days=jQuery.parseJSON(disable_days);var disable_holidays=jQuery("#ptdt_week_holidays").val(),obj_disable_holidays="";if(void 0!=disable_holidays)var obj_disable_holidays=jQuery.parseJSON(disable_holidays);var html=(jQuery("#ptdt_product_id").val(),"");html+="<tr>",$.each(obj_daysOfWeek,function(index,value){var new_week_days=value.slice(0,3),calendar_wrapper_public=$(".ptdt-calendar-wrapper-public");$(".entry-summary").width()<=417&&null!=$(".entry-summary").width()&&(value=new_week_days,calendar_wrapper_public.addClass("thsdf-calendar-day-min-screen")),value=$(window).width()<=960&&null!=$(window).width()?new_week_days:value;var flatsome_wrap_width=$(".thsdf-flatsome-calendar-wrapper-public").width();flatsome_wrap_width<=360&&null!=flatsome_wrap_width?(value=new_week_days,calendar_wrapper_public.addClass("thsdf-calendar-day-min-screen")):value=value,html+='<th class="ptdelivery-calendar-header"><div class="calendar-week-day ptdt_primary ptdt_secondary ptdt_general_color">'+value+"</div></th>"}),html+="</tr><tr>";var newstart=start-day_num;if(newstart>0&&newstart!=$count_days)html+='<td colspan="'+newstart+'" class="ptdelivery-calendar-day ptdelivery-calendar-other">&nbsp;</td>';else if(newstart<0){var newstart=$count_days-day_num+start;html+='<td colspan="'+newstart+'" class="ptdelivery-calendar-day ptdelivery-calendar-other">&nbsp;</td>'}for(var i=1;i<=count;i++){7==newstart&&(newstart=0,html+="</tr><tr>");var n=i,currentmonth=("0"+(month+1)).slice(-2),currentDayRel=("0"+n).slice(-2),date=year+"-"+currentmonth+"-"+currentDayRel,not_avail=date_available(date,obj_disable_days),class_day="",disabled="";not_avail==date&&(class_day="ptdf_disable_day ptdt_tooltip_view ptdt_holiday",disabled="disabled"),date<start_date&&(class_day="ptdf_befor_day",disabled="disabled"),date>end_date&&(class_day="ptdf_after_day",disabled="disabled");date_available(date,obj_disable_holidays)==date&&(class_day="ptdf_holidays ptdt_tooltip_view ptdt_holiday",disabled="disabled"),"disabled"!=disabled&&(class_day="active-date");var input_value="";null!=calendar_input_field_data&&""!=calendar_input_field_data&&$.each(calendar_input_field_data,function(key,value){var product_date=key,product_qty_no=value;product_date==date&&(input_value=product_qty_no)});var cl="ptdelivery-calendar-day";i===today&&(cl+=" today");var new_i="";if(i<10)var new_i="0"+i;else var new_i=i;html+='<td class="ptdt_date_td '+class_day+" "+cl+'" rel="'+date+'">',html+='<div class="ptdelivary-single-date">',html+='<span class="ptdelivary-date-day ptdt_general_color">'+new_i+"</span>",html+='<input type="number" name="ptdelivery_product_number" class="ptdelivery-number-input ptdt_input_color" data-date="'+date+'" '+disabled+' value="'+input_value+'" min="1" >',html+='<div id="inc-button" class="spinner-button"><span class="dashicons dashicons-arrow-down"></span></div>',html+='<div id="dec-button" class="spinner-button"><span class="dashicons dashicons-arrow-up"></span></div>',html+="</div>",html+="</td>",newstart++}if(7!=newstart){html+='<td colspan="'+(7-newstart)+'" class="ptdt_date_td ptdelivery-calendar-day">&nbsp;</td>'}html+="</tr>",$(document).find("#ptdelivery-calendar").html(html)}function printDate(d){var new_month_name=months[d.getMonth()];if(void 0!=new_month_name){var month_name=new_month_name.replace(/[^a-zA-Z 0-9]+/g,""),month_name_sub=month_name.slice(0,3),month=capitalize(month_name_sub);date_cal&&$(document).find("#ptdelivery-date").html(month+" "+d.getFullYear())}}function date_available(value,arr){var status="Not exist";if(arr)for(var i=0;i<arr.length;i++){var name=arr[i];if(name==value){status=value;break}}return status}function capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1).toLowerCase()}function ptdt_calendar_tooltips(){$(".ptdf_holidays, .ptdf_disable_day").hover(function(){$(this).css("cursor","pointer").attr("title",thsdf_public_var.no_delivery)},function(){});var ToolTipTimer;$(".ptdt_tooltip_view").hover(function(e){var tooltip_bg=jQuery("#ptdt_tooltip_bg_code").val(),tooltip=jQuery("#ptdt_tooltip_text_code").val(),title=$(this).attr("title");$(this).data("ToolTipText",title).removeAttr("title"),$('<div class="ptdt-tooltip ptdt-hide ptdt_tooltip_bg ptdt_tooltip_color" style="color:'+tooltip+"; background-color:"+tooltip_bg+';"></div>').text(title).appendTo("body"),ToolTipTimer=setTimeout(function(e){$(".ptdt-tooltip").removeClass("ptdt-hide").fadeIn("fast")},100)},function(){clearTimeout(ToolTipTimer),$(this).attr("title",$(this).data("ToolTipText")),$(".ptdt-tooltip").remove()}).mousemove(function(e){var pLeft,pTop,CursorX=e.pageX,CursorY=e.pageY,WindowWidth=$(window).width(),WindowHeight=$(window).height(),toolTip=$(".ptdt-tooltip"),TTWidth=toolTip.width(),TTHeight=toolTip.height();pLeft=CursorX-10>=WindowWidth/4*3?CursorX-TTWidth-10:CursorX+10,pTop=CursorY-10>=WindowHeight/4*3?CursorY-TTHeight-10:CursorY+10,$(".ptdt-tooltip").css({top:pTop,left:pLeft})})}function display_setting(){var calendar_border_code=jQuery("#ptdt_calendar_border_code").val(),ptdt_day_bg_code=jQuery("#ptdt_day_bg_code").val(),ptdt_nav_arrow_code=jQuery("#ptdt_nav_arrow_code").val(),ptdt_day_title_color_code=jQuery("#ptdt_day_title_color_code").val(),ptdt_date_color_code=jQuery("#ptdt_date_color_code").val(),ptdt_day_color_code=jQuery("#ptdt_day_color_code").val(),ptdt_holiday_color_code=jQuery("#ptdt_holiday_color_code").val(),ptdt_input_text_code=jQuery("#ptdt_input_text_code").val();$("#ptdelivery-calendar").css("border-color",calendar_border_code),$(".active-date .ptdelivary-single-date").css("background-color",ptdt_day_bg_code),$(".active-date .ptdelivery-number-input").css("border-color",ptdt_day_bg_code),$(".ptdt-nav-arrow").css("color",ptdt_nav_arrow_code),$(".ptdelivery-calendar-header .ptdt_general_color").css("color",ptdt_day_title_color_code),$(".ptdelivery-controls-buttons .ptdt_general_color").css("color",ptdt_date_color_code),$(".active-date .ptdt_general_color").css("color",ptdt_day_color_code),$(".ptdt_holiday .ptdt_general_color").css("color",ptdt_holiday_color_code),$(".ptdf_befor_day .ptdt_general_color").css("color",ptdt_holiday_color_code),$(".ptdf_after_day .ptdt_general_color").css("color",ptdt_holiday_color_code),$(".active-date .ptdt_input_color").css("color",ptdt_input_text_code)}function calculate_quantity(){var product_id=jQuery("#ptdt_product_id").val(),delivery_date_info=calendar_submited_data();if(void 0===delivery_date_info||""==delivery_date_info||null==delivery_date_info)var delivery_info_date={};else var delivery_info_date=delivery_date_info;$("#total_product_quantity").append('<div class="price-ajaxBusy"> <i class="fa fa-spinner" aria-hidden="true"></i></div>'),$(document).on("change",".cart .ptdelivery-number-input",function(e){$("#product_total_price_value").empty(),$(this).val()<0&&$(this).val("");var delivery_info_per_date={};if(null!=$(this).val()){var product_number=$(this).val(),service_date=$(this).data("date"),min_price=jQuery("#ptdt_min_price").val(),ptdt_product_price=jQuery("#ptdt_product_price").val();Math.round(min_price/ptdt_product_price);if(void 0===product_number||""==product_number||null==product_number)delete delivery_info_date[service_date];else{delivery_info_date[service_date]=product_number}var delivery_info_date_time=delivery_info_date}var form=$("form.cart"),variable_product=is_variable_product(form),variation_id=0;if($("#ptdelivery-calendar").length>0){var empty_object=jQuery.isEmptyObject(delivery_info_date);if(""==delivery_info_date||null==delivery_info_date||1==empty_object)jQuery(".cart button.single_add_to_cart_button.button").addClass("disabled"),1==variable_product&&jQuery("button.single_add_to_cart_button").addClass("variable-pdt-disabled");else if(jQuery(".cart button.single_add_to_cart_button.button").removeClass("disabled"),1==variable_product){var variation_id=get_variation_id();null!=variation_id&&0!=variation_id?jQuery("button.single_add_to_cart_button").removeClass("variable-pdt-disabled"):jQuery("button.single_add_to_cart_button").addClass("variable-pdt-disabled")}}var rslt_sum=array_sum(delivery_info_date),ptdt_product_price=jQuery("#ptdt_product_price").val(),requestData={},requestData=thsdf_wepo_form_price_info(),form=$("form.cart"),variable_product=is_variable_product(form),variation_id=0;if(1==variable_product)var variation_id=get_variation_id();$(".price-ajaxBusy").show();var url=thsdf_public_var.ajax_url,price_nonce=thsdf_public_var.update_price_nonce,price_info_arr=[];if(void 0!=requestData)var price_info_arr=JSON.stringify(requestData);jQuery.ajax({url:url,type:"post",data:{action:"update_product_price",product_id:product_id,rslt_sum:rslt_sum,ptdt_product_price:ptdt_product_price,priceInfoArr:price_info_arr,is_variable_product:variable_product,variation_id:variation_id,update_price_nonce:price_nonce},success:function(response){$(".price-ajaxBusy").hide(),$("#product_total_price_value").html(response)}});var total_price=rslt_sum*ptdt_product_price;currencyFormat(total_price);delivery_info_per_date.products_per_date=delivery_info_date_time,delivery_info_per_date.total_quantity=rslt_sum;var product_delivery_qty=delivery_info_per_date,product_delivery_details=[];if(void 0!=product_delivery_qty)var product_delivery_details=JSON.stringify(product_delivery_qty);$("#ptdt_calendar_datas").val(product_delivery_details),$(".quantity .input-text.qty.text").val(rslt_sum)})}function currencyFormat(num){return jQuery("#ptdt_currency_symbol").val()+num.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function array_sum(input_arr){var total=0;return $.each(input_arr,function(key,value){total+=Number(value)}),total}function calendar_submited_data(){var calendar_datas=jQuery("#ptdt_calendar_datas").val(),obj_calendar_datas=[];if(void 0!=calendar_datas)var obj_calendar_datas=jQuery.parseJSON(calendar_datas);var product_per_date_arr=[];if(null!=obj_calendar_datas&&""!=obj_calendar_datas)return $.each(obj_calendar_datas,function(key,value){product_per_date_arr=obj_calendar_datas.products_per_date;var total_quantity=obj_calendar_datas.total_quantity,ptdt_product_price=jQuery("#ptdt_product_price").val(),total_price=(jQuery("#ptdt_currency_symbol").val(),total_quantity*ptdt_product_price),total_price_formated=currencyFormat(total_price);jQuery("#product_total_price_value").html(total_price_formated)}),product_per_date_arr}function thsdf_wepo_form_price_info(){var form=$("form.cart"),price_field_elms=$(".thwepo-price-field");if(price_field_elms.length>0){var priceInfoArr={},isVariableProduct=is_variable_product(form),productId=get_product_id(),variationId=get_variation_id();price_field_elms.each(function(){var pfield=$(this);if(is_active_price_field(pfield)){var ftype=pfield.getType(),multiple=is_multiselect_field(pfield,ftype),id=pfield.prop("id"),name=get_field_name(ftype,pfield.prop("name"),id,multiple),value=get_price_field_value(pfield,ftype,name),label=pfield.data("price-label"),price=pfield.data("price"),priceType=pfield.data("price-type"),priceUnit=pfield.data("price-unit"),priceMinUnit=pfield.data("price-min-unit");if(isInputChoiceField(ftype,multiple)){var price_props=prepare_price_props_for_selected_options(pfield,name,ftype,multiple);price_props?(price=price_props.price,priceType=price_props.priceType):(price=0,priceType="")}if(!priceType||"dynamic"!==priceType&&"dynamic-excl-base-price"!==priceType?priceUnit=0:!$.isNumeric(priceUnit)&&$("#"+priceUnit).length&&($("#"+priceUnit).val(),priceUnit=1),value&&name&&(price||priceType&&"custom"===priceType)){var priceInfo={};priceInfo.name=name,priceInfo.label=label,priceInfo.value=value,priceInfo.price=price,priceInfo.price_type=priceType,priceInfo.price_unit=priceUnit,priceInfo.price_min_unit=priceMinUnit,priceInfo.quantity="4",priceInfo.multiple=multiple,priceInfoArr[name]=priceInfo}}})}var requestData={};return requestData.product_id=productId,requestData.price_info=priceInfoArr,requestData.is_variable_product=isVariableProduct,variationId&&(requestData.variation_id=variationId),requestData}function is_active_price_field(elm){var result=!0;return elm.hasClass("thwepo-disabled-field")&&(result=!1),result}function get_field_name(type,name,id,multiple){return"checkbox"==type&&multiple?name=name.replace("[]",""):"select"==type&&multiple&&(name=id),name}function get_price_field_value(elm,type,name){var value=thwepo_public_base.get_field_value(type,elm,name);return"radio"===type?value=elm.is(":checked")?value:"":"file"===type&&(value=elm.data("file-name"),value=value||""),value}function is_variable_product(form){var is_var_product=!1;return form.hasClass("variations_form")&&(is_var_product=!0),is_var_product}function isInputChoiceField(type,multiple){return!!("select"===type||"radio"===type||"checkbox"===type&&multiple)}function is_multiselect_field(elm,type){var multiple=0;return"checkbox"==type?multiple=elm.data("multiple"):"select"==type&&elm.attr("multiple")&&(multiple=1),multiple}function get_product_id(){var product_id=$("input[name=add-to-cart]").val();return product_id||(product_id=$("button[name=add-to-cart]").val()),product_id}function get_variation_id(){return $("input[name=variation_id]").val()}function get_selected_options(elm,name,type,multiple){var options=null;return"select"===type?options=elm.find("option:selected"):"radio"===type?elm.is(":checked")&&(options=elm):"checkbox"===type&&multiple&&(options=$("input[type=checkbox][name='"+name+"[]']:checked")),options}function prepare_price_props_for_selected_options(elm,name,type,multiple){var price_props=null,oPrice="",oPriceType="",options=get_selected_options(elm,name,type,multiple);return options&&(multiple?options.each(function(){var oprice=$(this).data("price"),opriceType=$(this).data("price-type");oprice&&(opriceType=opriceType||"normal",oPrice.trim()&&(oPrice+=","),oPriceType.trim()&&(oPriceType+=","),oPrice+=oprice,oPriceType+=opriceType)}):(oPrice=options.data("price"),oPriceType=options.data("price-type"),oPriceType=oPriceType||"normal"),thwepo_public_base.isEmpty(oPrice)||thwepo_public_base.isEmpty(oPriceType)||(price_props={price:oPrice,priceType:oPriceType})),price_props}!function(){var spec_class=thsdf_public_var.spec_class;$(".woocommerce table.shop_table td.product-name").addClass(spec_class)}();var deferentMonth=0,date_cal=$(document).find("#ptdelivery-date");$(document).find("#ptdelivery-calendar");!function(){$(".ptdt-delivery-date-public.full-date-data").hide(),$("a.ptdt-read").click(function(){return $(this).parent(".ptdt-delivery-date-public.min-date-data").slideUp("fast"),$(this).closest(".ptdt-date-qty-content").find(".ptdt-delivery-date-public.full-date-data").slideDown("fast"),!1}),$("a.ptdt-read-less").click(function(){return $(this).parent(".ptdt-delivery-date-public.full-date-data").slideUp("fast"),$(this).closest(".ptdt-date-qty-content").find(".ptdt-delivery-date-public.min-date-data").slideDown("fast"),!1})}(),function(){$("input[name=variation_id]").on("change",function(e){if(""!=$("input[name=variation_id]").val()){var rslt_sum=0,ptdt_product_price=jQuery("#ptdt_product_price").val(),calendar_datas=$("#ptdt_calendar_datas").val(),product_id=jQuery("#ptdt_product_id").val(),calendar_datas_org=[];if(void 0!=calendar_datas)var calendar_datas_org=JSON.parse(calendar_datas);var rslt_sum=calendar_datas_org.total_quantity,form=$("form.cart"),variable_product=is_variable_product(form),variation_id=0;if($("#ptdelivery-calendar").length>0&&1==variable_product){var variation_id=get_variation_id();null==rslt_sum||0==rslt_sum?jQuery("button.single_add_to_cart_button").addClass("variable-pdt-disabled"):jQuery("button.single_add_to_cart_button").removeClass("variable-pdt-disabled")}var requestData={},requestData=thsdf_wepo_form_price_info(),url=thsdf_public_var.ajax_url,price_nonce=thsdf_public_var.update_price_nonce,price_info_arr=[];if(void 0!=requestData)var price_info_arr=JSON.stringify(requestData);jQuery.ajax({url:url,type:"post",data:{action:"update_product_price",product_id:product_id,rslt_sum:rslt_sum,ptdt_product_price:ptdt_product_price,priceInfoArr:price_info_arr,is_variable_product:variable_product,variation_id:variation_id,update_price_nonce:price_nonce},success:function(response){$("#product_total_price_value").html(response),$(".quantity .input-text.qty.text").val(rslt_sum)}})}else $("#product_total_price_value").html("")})}();const months=[thsdf_public_var.january,thsdf_public_var.february,thsdf_public_var.march,thsdf_public_var.april,thsdf_public_var.may,thsdf_public_var.june,thsdf_public_var.july,thsdf_public_var.august,thsdf_public_var.september,thsdf_public_var.october,thsdf_public_var.november,thsdf_public_var.december];"flatsome"==thsdf_public_var.is_quick_view?$(document).on("mfpOpen",function(){thsdf_functions(),$(".ptdelivery-calendar").addClass("thsdf_quick_view")}):"yith"==thsdf_public_var.is_quick_view?$(document).on("qv_loader_stop",function(){thsdf_functions()}):"astra"==thsdf_public_var.is_quick_view&&$(document).on("ast_quick_view_loader_stop",function(){thsdf_functions()}),thsdf_functions(),jQuery(".single_add_to_cart_button").click(function(){jQuery(this).is(".disabled.single_add_to_cart_button")&&event.preventDefault()}),function(){$(document).on("change",".thwepo-price-field",function(e){var rslt_sum=0,ptdt_product_price=jQuery("#ptdt_product_price").val(),calendar_datas=$("#ptdt_calendar_datas").val(),product_id=jQuery("#ptdt_product_id").val(),calendar_datas_org=[];if(void 0!=calendar_datas)var calendar_datas_org=JSON.parse(calendar_datas);var rslt_sum=calendar_datas_org.total_quantity,form=$("form.cart"),variable_product=is_variable_product(form),variation_id=0;if(1==variable_product)var variation_id=get_variation_id();var requestData={},requestData=thsdf_wepo_form_price_info(),price_info_arr=[];if(void 0!=requestData)var price_info_arr=JSON.stringify(requestData);var url=thsdf_public_var.ajax_url,price_nonce=thsdf_public_var.update_price_nonce;jQuery.ajax({url:url,type:"post",data:{action:"update_product_price",product_id:product_id,rslt_sum:rslt_sum,ptdt_product_price:ptdt_product_price,priceInfoArr:price_info_arr,is_variable_product:variable_product,variation_id:variation_id,update_price_nonce:price_nonce},success:function(response){$("#product_total_price_value").html(response)}})})}()}(jQuery);